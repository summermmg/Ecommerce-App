{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  products: [],\n  status: 'idle',\n  error: null\n}; //fetchProducts is a thunk that can dispatch pending, fulfilled or rejected action type.\n//createAsyncThunk accepts three parameters: a string action type value, a payloadCreator \n//callback, and an options object.\n\nexport const fetchProducts = createAsyncThunk('products/fetchProducts', async () => {\n  const response = await axios.get('/api/products');\n  const data = response.data;\n  return data;\n});\nexport const likeProduct = createAsyncThunk('product/likeProduct', async productIdObj => {\n  const response = await axios.put('/api/products', productIdObj);\n  return response.data;\n});\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [fetchProducts.pending]: (state, action) => {\n      state.status = 'loading';\n    },\n    [fetchProducts.fulfilled]: (state, action) => {\n      state.status = 'succeeded';\n      state.products = state.products.concat(action.payload);\n    },\n    [fetchProducts.failed]: (state, action) => {\n      state.status = 'failed';\n      state.error = action.error;\n    },\n    [likeProduct.fulfilled]: (state, action) => {\n      state.products = action.payload.products;\n    }\n  }\n});\nexport default productsSlice.reducer;","map":{"version":3,"sources":["W:/tzou/ecommerce-app/frontend/src/features/products/productsSlice.js"],"names":["createSlice","createAsyncThunk","axios","initialState","products","status","error","fetchProducts","response","get","data","likeProduct","productIdObj","put","productsSlice","name","reducers","extraReducers","pending","state","action","fulfilled","concat","payload","failed","reducer"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,gBAArB,QAA4C,kBAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAE,EADO;AAEjBC,EAAAA,MAAM,EAAE,MAFS;AAGjBC,EAAAA,KAAK,EAAC;AAHW,CAArB,C,CAMA;AACA;AACA;;AACA,OAAO,MAAMC,aAAa,GAAGN,gBAAgB,CAAC,wBAAD,EAA2B,YAAY;AAChF,QAAMO,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAU,eAAV,CAAvB;AACA,QAAMC,IAAI,GAAGF,QAAQ,CAACE,IAAtB;AACA,SAAOA,IAAP;AACH,CAJ4C,CAAtC;AAMP,OAAO,MAAMC,WAAW,GAAGV,gBAAgB,CAAC,qBAAD,EAAwB,MAAOW,YAAP,IAAwB;AACvF,QAAMJ,QAAQ,GAAG,MAAMN,KAAK,CAACW,GAAN,CAAU,eAAV,EAA0BD,YAA1B,CAAvB;AACA,SAAOJ,QAAQ,CAACE,IAAhB;AACH,CAH0C,CAApC;AAKP,MAAMI,aAAa,GAAGd,WAAW,CAAC;AAC9Be,EAAAA,IAAI,EAAE,UADwB;AAE9BZ,EAAAA,YAF8B;AAG9Ba,EAAAA,QAAQ,EAAE,EAHoB;AAM9BC,EAAAA,aAAa,EAAE;AACX,KAACV,aAAa,CAACW,OAAf,GAAyB,CAACC,KAAD,EAAOC,MAAP,KAAkB;AACvCD,MAAAA,KAAK,CAACd,MAAN,GAAe,SAAf;AACH,KAHU;AAIX,KAACE,aAAa,CAACc,SAAf,GAA2B,CAACF,KAAD,EAAOC,MAAP,KAAkB;AACzCD,MAAAA,KAAK,CAACd,MAAN,GAAe,WAAf;AACAc,MAAAA,KAAK,CAACf,QAAN,GAAiBe,KAAK,CAACf,QAAN,CAAekB,MAAf,CAAsBF,MAAM,CAACG,OAA7B,CAAjB;AACH,KAPU;AAQX,KAAChB,aAAa,CAACiB,MAAf,GAAyB,CAACL,KAAD,EAAOC,MAAP,KAAkB;AACvCD,MAAAA,KAAK,CAACd,MAAN,GAAe,QAAf;AACAc,MAAAA,KAAK,CAACb,KAAN,GAAcc,MAAM,CAACd,KAArB;AACH,KAXU;AAYX,KAACK,WAAW,CAACU,SAAb,GAAyB,CAACF,KAAD,EAAOC,MAAP,KAAkB;AACvCD,MAAAA,KAAK,CAACf,QAAN,GAAiBgB,MAAM,CAACG,OAAP,CAAenB,QAAhC;AACH;AAdU;AANe,CAAD,CAAjC;AAwBA,eAAeU,aAAa,CAACW,OAA7B","sourcesContent":["import {createSlice, createAsyncThunk} from '@reduxjs/toolkit'\r\nimport axios from 'axios'\r\n\r\nconst initialState = {\r\n    products: [],\r\n    status: 'idle',\r\n    error:null,\r\n}\r\n\r\n//fetchProducts is a thunk that can dispatch pending, fulfilled or rejected action type.\r\n//createAsyncThunk accepts three parameters: a string action type value, a payloadCreator \r\n//callback, and an options object.\r\nexport const fetchProducts = createAsyncThunk('products/fetchProducts', async () => {\r\n    const response = await axios.get('/api/products')\r\n    const data = response.data\r\n    return data\r\n})\r\n\r\nexport const likeProduct = createAsyncThunk('product/likeProduct', async (productIdObj) => {\r\n    const response = await axios.put('/api/products',productIdObj)\r\n    return response.data\r\n})\r\n\r\nconst productsSlice = createSlice({\r\n    name: 'products',\r\n    initialState,\r\n    reducers: {\r\n\r\n    },\r\n    extraReducers: {\r\n        [fetchProducts.pending]: (state,action) => {\r\n            state.status = 'loading'\r\n        },\r\n        [fetchProducts.fulfilled]: (state,action) => {\r\n            state.status = 'succeeded'\r\n            state.products = state.products.concat(action.payload)\r\n        },\r\n        [fetchProducts.failed] : (state,action) => {\r\n            state.status = 'failed'\r\n            state.error = action.error\r\n        },\r\n        [likeProduct.fulfilled]: (state,action) => {\r\n            state.products = action.payload.products            \r\n        }\r\n    } \r\n})\r\n\r\nexport default productsSlice.reducer"]},"metadata":{},"sourceType":"module"}