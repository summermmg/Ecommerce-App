{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  products: [],\n  status: 'idle',\n  error: null\n};\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    productAdded: {\n      reducer(state, action) {\n        state.products.push(action.payload);\n        state.totalQty += action.payload.cartQty;\n        state.totalAmt += action.payload.cartTotal;\n      },\n\n      prepare(product) {\n        return {\n          payload: product\n        };\n      }\n\n    },\n    itemIncremented: {\n      reducer(state, action) {\n        state.products.map(product => {\n          if (product.id === action.payload.id) {\n            product.cartQty++;\n            product.cartTotal += product.price;\n            state.totalQty++;\n            state.totalAmt += product.price;\n          }\n\n          return state;\n        });\n      },\n\n      prepare(cartItem) {\n        return {\n          payload: cartItem\n        };\n      }\n\n    },\n    itemDecremented: {\n      reducer(state, action) {\n        state.products.map(product => {\n          if (product.id === action.payload.id) {\n            product.cartQty--;\n            product.cartTotal -= product.price;\n            state.totalQty--;\n            state.totalAmt -= product.price;\n          }\n\n          return state;\n        });\n      },\n\n      prepare(cartItem) {\n        return {\n          payload: cartItem\n        };\n      }\n\n    },\n    itemRemoved: {\n      reducer(state, action) {\n        state.products = state.products.filter(product => product.id !== action.payload.id);\n        state.totalQty -= action.payload.cartQty;\n        state.totalAmt -= action.payload.cartTotal;\n      },\n\n      prepare(product) {\n        return {\n          payload: product\n        };\n      }\n\n    }\n  }\n});\nexport const {\n  productAdded,\n  itemIncremented,\n  itemDecremented,\n  itemRemoved\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"sources":["W:/tzou/ecommerce-app/frontend/src/features/cart/cartSlice.js"],"names":["createSlice","axios","initialState","products","status","error","cartSlice","name","reducers","productAdded","reducer","state","action","push","payload","totalQty","cartQty","totalAmt","cartTotal","prepare","product","itemIncremented","map","id","price","cartItem","itemDecremented","itemRemoved","filter","actions"],"mappings":"AAAA,SAAQA,WAAR,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAE,EADO;AAEjBC,EAAAA,MAAM,EAAE,MAFS;AAGjBC,EAAAA,KAAK,EAAC;AAHW,CAArB;AAMA,MAAMC,SAAS,GAAGN,WAAW,CAAC;AAC1BO,EAAAA,IAAI,EAAE,MADoB;AAE1BL,EAAAA,YAF0B;AAG1BM,EAAAA,QAAQ,EAAE;AACNC,IAAAA,YAAY,EAAC;AACTC,MAAAA,OAAO,CAACC,KAAD,EAAOC,MAAP,EAAe;AAClBD,QAAAA,KAAK,CAACR,QAAN,CAAeU,IAAf,CAAoBD,MAAM,CAACE,OAA3B;AACAH,QAAAA,KAAK,CAACI,QAAN,IAAgBH,MAAM,CAACE,OAAP,CAAeE,OAA/B;AACAL,QAAAA,KAAK,CAACM,QAAN,IAAgBL,MAAM,CAACE,OAAP,CAAeI,SAA/B;AACH,OALQ;;AAMTC,MAAAA,OAAO,CAACC,OAAD,EAAU;AACb,eAAO;AACHN,UAAAA,OAAO,EAAEM;AADN,SAAP;AAGH;;AAVQ,KADP;AAaNC,IAAAA,eAAe,EAAE;AACbX,MAAAA,OAAO,CAACC,KAAD,EAAOC,MAAP,EAAe;AAClBD,QAAAA,KAAK,CAACR,QAAN,CAAemB,GAAf,CAAmBF,OAAO,IAAI;AAC1B,cAAIA,OAAO,CAACG,EAAR,KAAeX,MAAM,CAACE,OAAP,CAAeS,EAAlC,EAAsC;AAClCH,YAAAA,OAAO,CAACJ,OAAR;AACAI,YAAAA,OAAO,CAACF,SAAR,IAAmBE,OAAO,CAACI,KAA3B;AACAb,YAAAA,KAAK,CAACI,QAAN;AACAJ,YAAAA,KAAK,CAACM,QAAN,IAAgBG,OAAO,CAACI,KAAxB;AACH;;AACD,iBAAOb,KAAP;AACH,SARD;AASH,OAXY;;AAYbQ,MAAAA,OAAO,CAACM,QAAD,EAAW;AACd,eAAO;AACHX,UAAAA,OAAO,EAAEW;AADN,SAAP;AAGH;;AAhBY,KAbX;AA+BNC,IAAAA,eAAe,EAAE;AACbhB,MAAAA,OAAO,CAACC,KAAD,EAAOC,MAAP,EAAe;AAClBD,QAAAA,KAAK,CAACR,QAAN,CAAemB,GAAf,CAAmBF,OAAO,IAAI;AAC1B,cAAIA,OAAO,CAACG,EAAR,KAAeX,MAAM,CAACE,OAAP,CAAeS,EAAlC,EAAsC;AAClCH,YAAAA,OAAO,CAACJ,OAAR;AACAI,YAAAA,OAAO,CAACF,SAAR,IAAmBE,OAAO,CAACI,KAA3B;AACAb,YAAAA,KAAK,CAACI,QAAN;AACAJ,YAAAA,KAAK,CAACM,QAAN,IAAgBG,OAAO,CAACI,KAAxB;AACH;;AACD,iBAAOb,KAAP;AACH,SARD;AASH,OAXY;;AAYbQ,MAAAA,OAAO,CAACM,QAAD,EAAW;AACd,eAAO;AACHX,UAAAA,OAAO,EAAEW;AADN,SAAP;AAGH;;AAhBY,KA/BX;AAiDNE,IAAAA,WAAW,EAAE;AACTjB,MAAAA,OAAO,CAACC,KAAD,EAAOC,MAAP,EAAe;AAClBD,QAAAA,KAAK,CAACR,QAAN,GAAiBQ,KAAK,CAACR,QAAN,CAAeyB,MAAf,CAAsBR,OAAO,IAC1CA,OAAO,CAACG,EAAR,KAAeX,MAAM,CAACE,OAAP,CAAeS,EADjB,CAAjB;AAGAZ,QAAAA,KAAK,CAACI,QAAN,IAAgBH,MAAM,CAACE,OAAP,CAAeE,OAA/B;AACAL,QAAAA,KAAK,CAACM,QAAN,IAAgBL,MAAM,CAACE,OAAP,CAAeI,SAA/B;AACH,OAPQ;;AAQTC,MAAAA,OAAO,CAACC,OAAD,EAAU;AACb,eAAO;AACHN,UAAAA,OAAO,EAAEM;AADN,SAAP;AAGH;;AAZQ;AAjDP;AAHgB,CAAD,CAA7B;AAqEA,OAAO,MAAM;AAACX,EAAAA,YAAD;AAAcY,EAAAA,eAAd;AAA8BK,EAAAA,eAA9B;AAA8CC,EAAAA;AAA9C,IAA6DrB,SAAS,CAACuB,OAA7E;AACP,eAAevB,SAAS,CAACI,OAAzB","sourcesContent":["import {createSlice,} from '@reduxjs/toolkit'\r\nimport axios from 'axios'\r\n\r\nconst initialState = {\r\n    products: [],\r\n    status: 'idle',\r\n    error:null,\r\n}\r\n\r\nconst cartSlice = createSlice({\r\n    name: 'cart',\r\n    initialState,\r\n    reducers: {\r\n        productAdded:{\r\n            reducer(state,action) {\r\n                state.products.push(action.payload)\r\n                state.totalQty+=action.payload.cartQty\r\n                state.totalAmt+=action.payload.cartTotal\r\n            },\r\n            prepare(product) {\r\n                return {\r\n                    payload: product\r\n                       }\r\n            }\r\n        },\r\n        itemIncremented: {\r\n            reducer(state,action) {\r\n                state.products.map(product => {\r\n                    if (product.id === action.payload.id) {\r\n                        product.cartQty ++\r\n                        product.cartTotal+=product.price   \r\n                        state.totalQty++\r\n                        state.totalAmt+=product.price\r\n                    }\r\n                    return state\r\n                })\r\n            },\r\n            prepare(cartItem) {\r\n                return {\r\n                    payload: cartItem\r\n                }\r\n            }\r\n        },\r\n        itemDecremented: {\r\n            reducer(state,action) {\r\n                state.products.map(product => {\r\n                    if (product.id === action.payload.id) {\r\n                        product.cartQty --\r\n                        product.cartTotal-=product.price   \r\n                        state.totalQty--\r\n                        state.totalAmt-=product.price\r\n                    }\r\n                    return state\r\n                })\r\n            },\r\n            prepare(cartItem) {\r\n                return {\r\n                    payload: cartItem\r\n                }\r\n            }\r\n        },\r\n        itemRemoved: {\r\n            reducer(state,action) {\r\n                state.products = state.products.filter(product => \r\n                    product.id !== action.payload.id\r\n                )\r\n                state.totalQty-=action.payload.cartQty\r\n                state.totalAmt-=action.payload.cartTotal\r\n            },\r\n            prepare(product) {\r\n                return {\r\n                    payload: product\r\n                }\r\n            }\r\n        } \r\n    }\r\n})\r\n\r\nexport const {productAdded,itemIncremented,itemDecremented,itemRemoved} = cartSlice.actions \r\nexport default cartSlice.reducer"]},"metadata":{},"sourceType":"module"}